<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Free all-in-one image tool: background remover, compressor, resizer, and image merger." />
  <meta property="og:title" content="Free Image Tool Web App" />
  <meta property="og:description" content="All-in-one free image tools: background remover, compressor, resizer, merger." />
  <meta property="og:image" content="https://yourdomain.com/preview-image.jpg" />
  <meta property="og:url" content="https://yourdomain.com" />
  <link rel="icon" type="image/png" href="/favicon.png">
  <title>Free Image Multi-Tool App</title>
  <script src="https://cdn.jsdelivr.net/npm/compressorjs@1.2.1/dist/compressor.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pica@8.0.0/dist/pica.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/merge-images"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; line-height: 1.6; }
    header, footer { background: #333; color: white; padding: 10px 20px; text-align: center; }
    nav { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 10px; }
    nav a, footer a { color: white; text-decoration: none; padding: 6px 10px; border-radius: 5px; background: #444; }
    nav a:hover, footer a:hover { background: #555; }
    .banner { padding: 20px; background: #f4f4f4; text-align: center; }
    .tools { display: flex; flex-direction: column; align-items: center; gap: 20px; padding: 20px; }
    .tool-section { border: 1px solid #ccc; padding: 20px; width: 90%; max-width: 600px; display: none; }
    .features, .social { padding: 20px; background: #eee; text-align: center; }
    .social a { margin: 0 10px; display: inline-block; }
    .social img { width: 24px; height: 24px; vertical-align: middle; }
    input[type="file"], button, input[type="number"] { margin-top: 10px; display: block; width: 100%; max-width: 300px; }
    canvas { max-width: 100%; }
    .dropzone { border: 2px dashed #999; padding: 20px; margin-top: 10px; cursor: pointer; text-align: center; }
    .dropzone.dragover { background-color: #eee; }
    @media screen and (min-width: 600px) {
      .tools { flex-direction: row; flex-wrap: wrap; justify-content: center; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Free Image Multi-Tool App</h1>
    <nav>
      <a href="#">Home</a>
      <a href="#">Contact</a>
      <a href="#">Support</a>
      <a href="#">Download &#x1F4F1;</a>
    </nav>
  </header>

  <div class="banner">
    <h2>Welcome to the All-in-One Free Image Tool</h2>
    <p>Remove backgrounds, compress, resize, or merge images easily from any device!</p>
  </div>

  <section class="tools">
    <button onclick="toggleTool('bgRemover')">Image Background Remover</button>
    <button onclick="toggleTool('compressor')">Image Compressor</button>
    <button onclick="toggleTool('resizer')">Image Resizer</button>
    <button onclick="toggleTool('merger')">Merge Images</button>
  </section>

  <div id="bgRemover" class="tool-section">
    <h3>Background Remover (powered by Remove.bg)</h3>
    <input type="file" id="bgInput" accept="image/*" />
    <div id="bgDrop" class="dropzone">Drag and drop image here</div>
    <button onclick="removeBg()">Remove Background</button>
    <a id="bgDownload" style="display:none" download="bg-removed.png">Download</a>
  </div>

  <div id="compressor" class="tool-section">
    <h3>Image Compressor</h3>
    <input type="file" id="compressInput" accept="image/*" />
    <div id="compressDrop" class="dropzone">Drag and drop image here</div>
    <button onclick="compressImage()">Compress</button>
    <a id="compressDownload" style="display:none" download="compressed.jpg">Download</a>
  </div>

  <div id="resizer" class="tool-section">
    <h3>Image Resizer</h3>
    <input type="file" id="resizeInput" accept="image/*" />
    <div id="resizeDrop" class="dropzone">Drag and drop image here</div>
    <input type="number" id="resizeWidth" placeholder="Width" />
    <input type="number" id="resizeHeight" placeholder="Height" />
    <button onclick="resizeImage()">Resize</button>
    <a id="resizeDownload" style="display:none" download="resized.png">Download</a>
  </div>

  <div id="merger" class="tool-section">
    <h3>Merge Images</h3>
    <input type="file" id="mergeInput" accept="image/*" multiple />
    <div id="mergeDrop" class="dropzone">Drag and drop images here</div>
    <button onclick="mergeImagesTool()">Merge</button>
    <a id="mergeDownload" style="display:none" download="merged.png">Download</a>
  </div>

  <div class="features">
    <h3>Tool Features</h3>
    <p><strong>Background Remover:</strong> Powered by Remove.bg API (free tier with registration).</p>
    <p><strong>Compressor:</strong> Compress images to smaller sizes without losing quality.</p>
    <p><strong>Resizer:</strong> Resize images using high-quality scaling (pica.js).</p>
    <p><strong>Image Merger:</strong> Merge multiple images into one high-quality file.</p>
  </div>

  <footer>
    <nav>
      <a href="#" target="_blank">Privacy Policy</a>
      <a href="#" target="_blank">Terms & Condition</a>
    </nav>
    <div class="social">
      <a href="https://facebook.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" /></a>
      <a href="https://instagram.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" /></a>
      <a href="https://linkedin.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn" /></a>
      <a href="https://youtube.com" target="_blank"><img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg" alt="YouTube" /></a>
    </div>
  </footer>

  <script>
    const REMOVE_BG_API_KEY = 'h4CXMtirKevH8UxWQHDSpRxX';

    function toggleTool(id) {
      document.querySelectorAll('.tool-section').forEach(tool => tool.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    function setupDropzone(dropzoneId, fileInputId) {
      const dropzone = document.getElementById(dropzoneId);
      const fileInput = document.getElementById(fileInputId);
      dropzone.addEventListener('dragover', e => {
        e.preventDefault();
        dropzone.classList.add('dragover');
      });
      dropzone.addEventListener('dragleave', () => dropzone.classList.remove('dragover'));
      dropzone.addEventListener('drop', e => {
        e.preventDefault();
        dropzone.classList.remove('dragover');
        fileInput.files = e.dataTransfer.files;
      });
    }

    ['bgDrop:bgInput', 'compressDrop:compressInput', 'resizeDrop:resizeInput', 'mergeDrop:mergeInput']
      .forEach(pair => {
        const [drop, input] = pair.split(':');
        setupDropzone(drop, input);
      });

    function removeBg() {
      const input = document.getElementById('bgInput');
      const file = input.files[0];
      if (!file) return alert('Please select an image.');

      const formData = new FormData();
      formData.append('image_file', file);
      formData.append('size', 'auto');

      fetch('https://api.remove.bg/v1.0/removebg', {
        method: 'POST',
        headers: { 'X-Api-Key': REMOVE_BG_API_KEY },
        body: formData
      })
      .then(res => res.blob())
      .then(blob => {
        const url = URL.createObjectURL(blob);
        const downloadLink = document.getElementById('bgDownload');
        downloadLink.href = url;
        downloadLink.style.display = 'inline-block';
      })
      .catch(err => alert('Error removing background: ' + err.message));
    }
  </script>
</body>
</html>
